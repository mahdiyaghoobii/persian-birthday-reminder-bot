# ๐ Persian Birthday Reminder Bot

<div dir="rtl">

ฺฉ ุฑุจุงุช ุชูฺฏุฑุงู ูุฏุฑุชููุฏ ุจุฑุง ุงุฏุขูุฑ ุชููุฏ ุจุง ูพุดุชุจุงู ฺฉุงูู ุงุฒ ุชููู ุดูุณ (ุฌูุงู)ุ ุณุงุฎุชู ุดุฏู ุจุง Cloudflare Workers ู D1 Database.

</div>

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT)
[![Cloudflare Workers](https://img.shields.io/badge/Cloudflare-Workers-orange)](https://workers.cloudflare.com/)
[![Telegram Bot](https://img.shields.io/badge/Telegram-Bot-blue)](https://core.telegram.org/bots)

---

## โจ ูฺฺฏโูุง

### ๐ฏ ุงูฺฉุงูุงุช ุงุตู
- โ **ุชููู ุดูุณ ฺฉุงูู** - ูพุดุชุจุงู ฺฉุงูู ุงุฒ ุชุงุฑุฎโูุง ุฌูุงู
- ๐ **ุซุจุช ุชููุฏูุง** - ุฐุฎุฑู ุชููุฏ ุฏูุณุชุงู ู ุขุดูุงุงู ุจุง ุฌุฒุฆุงุช ฺฉุงูู
- ๐ **ุงุฏุขูุฑโูุง ููุดููุฏ** - ุงุทูุงุนโุฑุณุงู ุฎูุฏฺฉุงุฑ ุฏุฑ ุฑูุฒูุง ูุดุฎุต
- ๐ข **ูุญุงุณุจู ุณู ุฏูู** - ููุงุด ุณู ุจู ุณุงูุ ูุงู ู ุฑูุฒ
- โฐ **ููุงุด ุฑูุฒูุง ุจุงููุงูุฏู** - ุดูุงุฑุด ูุนฺฉูุณ ุชุง ุฑูุฒ ุชููุฏ
- ๐ **ุงุฏุขูุฑโูุง ุณูุงุฑุด** - ุซุจุช ุฑูุฏุงุฏูุง ููู ุฏฺฏุฑ

### ๐๏ธ ุงูฺฉุงูุงุช ูพุดุฑูุชู
- ๐ค **ูพูู ูุฏุฑุช ฺฉุงูู** - ูุฏุฑุช ฺฉุงุฑุจุฑุงูุ ุงุฑุณุงู ูพุงู ููฺฏุงู
- ๐ **ุนุถูุช ุงุฌุจุงุฑ ฺฉุงูุงู** - ูุงุจูุช Force Join ุจุฑุง ฺฉุงูุงูโูุง
- ๐ **ุฌุณุชุฌู ฺฉุงุฑุจุฑุงู** - ุฌุณุชุฌู ุจุฑ ุงุณุงุณ User ID ุง ูุงู
- ๐ซ **ูุณุฏูุฏุณุงุฒ ฺฉุงุฑุจุฑุงู** - ูุฏุฑุช ุฏุณุชุฑุณ ฺฉุงุฑุจุฑุงู
- ๐ **ุณุณุชู ูุงฺฏ** - ุซุจุช ฺฉุงูู ูุนุงูุชโูุง
- ๐๏ธ **ูพุงฺฏุงู ุฏุงุฏู ูุฏุฑุชููุฏ** - ุงุณุชูุงุฏู ุงุฒ Cloudflare D1

### ๐จ ุชุฌุฑุจู ฺฉุงุฑุจุฑ
- ๐ฎ๐ท **ุฑุงุจุท ฺฉุงุฑุจุฑ ูุงุฑุณ** - ฺฉุงููุงู ูุงุฑุณ
- ๐ฑ **ุฏฺฉููโูุง ุดุดูโุง** - ุทุฑุงุญ ูุฏุฑู ุจุง Inline Keyboards
- ๐ **ุงูฺฉุชโูุง ูพุงู** - ุงุณุชูุงุฏู ุงุฒ Message Effects ุชูฺฏุฑุงู
- โก **ูพุงุณุฎฺฏู ุณุฑุน** - ุจุฏูู ูุงุฒ ุจู ุณุฑูุฑุ ุฑู Edge ุงุฌุฑุง ูโุดูุฏ

---

## ๐ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### ูพุดโูุงุฒูุง
- ุญุณุงุจ [Cloudflare](https://dash.cloudflare.com/)
- [Wrangler CLI](https://developers.cloudflare.com/workers/wrangler/install-and-update/)
- ุฑุจุงุช ุชูฺฏุฑุงู (ุงุฒ [@BotFather](https://t.me/BotFather))

### ูุฑุงุญู ูุตุจ

#### 1๏ธโฃ ฺฉููู ฺฉุฑุฏู ูพุฑูฺู
```bash
git clone https://github.com/mahdiyaghoobii/telegram-birthday-bot-persian.git
cd telegram-birthday-bot-persian
```

#### 2๏ธโฃ ุงุฌุงุฏ ุฏุชุงุจุณ D1
```bash
wrangler d1 create birthday-bot-db
```

ุฎุฑูุฌ ุดุงูู `database_id` ุฎูุงูุฏ ุจูุฏ. ุขู ุฑุง ุฏุฑ `wrangler.toml` ูุฑุงุฑ ุฏูุฏ.

#### 3๏ธโฃ ุงุฌุฑุง Schema
```bash
wrangler d1 execute birthday-bot-db --file=./schema.sql
```

#### 4๏ธโฃ ุชูุธู ุชูฺฉู ุฑุจุงุช
```bash
wrangler secret put BOT_TOKEN
```

ุชูฺฉู ุฑุจุงุช ุฎูุฏ ุฑุง ุงุฒ [@BotFather](https://t.me/BotFather) ูุงุฑุฏ ฺฉูุฏ.

#### 5๏ธโฃ ูุฑุงุด ุชูุธูุงุช
ูุงู `worker.js` ุฑุง ุจุงุฒ ฺฉูุฏ ู ุงู ููุงุฑุฏ ุฑุง ุชุบุฑ ุฏูุฏ:

```javascript
// User ID ุงุฏููโูุง ุฑุจุงุช
const ADMIN_USER_IDS = [YOUR_TELEGRAM_USER_ID];

// ฺฉุงูุงู ุงูุฒุงู (ุงุฎุชุงุฑ)
const FORCE_JOIN_CHANNEL = '@your_channel'; // ุง null
const FORCE_JOIN_ENABLED = true; // true ุง false
```

#### 6๏ธโฃ ุฏูพูู ฺฉุฑุฏู
```bash
wrangler deploy
```

#### 7๏ธโฃ ุชูุธู Webhook
ูพุณ ุงุฒ ุฏูพููุ URL ุฑุจุงุช ุฑุง ุฏุฑุงูุช ูโฺฉูุฏ:
```
https://birthday-bot.YOUR_SUBDOMAIN.workers.dev
```

Webhook ุฑุง ุชูุธู ฺฉูุฏ:
```bash
curl -X POST "https://api.telegram.org/bot<YOUR_BOT_TOKEN>/setWebhook?url=https://birthday-bot.YOUR_SUBDOMAIN.workers.dev/webhook"
```

---

## ๐ ุณุงุฎุชุงุฑ ูพุฑูฺู

```
telegram-birthday-bot-persian/
โโโ worker.js              # ฺฉุฏ ุงุตู Worker
โโโ wrangler.toml          # ุชูุธูุงุช Cloudflare
โโโ schema.sql             # Schema ุงููู ุฏุชุงุจุณ
โโโ migration.sql          # ูุงู Migration (ุฏุฑ ุตูุฑุช ูุงุฒ)
โโโ migration_safe.sql     # Migration ุงูู
โโโ package.json           # ุงุทูุงุนุงุช ูพุฑูฺู
โโโ .gitignore            # ูุงูโูุง ignore ุดุฏู
โโโ README.md             # ูุณุชูุฏุงุช
```

---

## ๐ฎ ูุญูู ุงุณุชูุงุฏู

### ุฏุณุชูุฑุงุช ฺฉุงุฑุจุฑ ุนุงุฏ
- `/start` - ุดุฑูุน ุฑุจุงุช ู ููุงุด ููู ุงุตู
- **โ ุงุถุงูู ฺฉุฑุฏู ุชููุฏ** - ุงูุฒูุฏู ุชููุฏ ุฌุฏุฏ
- **๐ ูุณุช ุชููุฏูุง** - ูุดุงูุฏู ููู ุชููุฏูุง (ูุฑุชุจ ุดุฏู ุจุฑ ุงุณุงุณ ูุฒุฏฺฉโุชุฑู)
- **๐ ุงุถุงูู ฺฉุฑุฏู ุงุฏุขูุฑ** - ุซุจุช ุงุฏุขูุฑ ุณูุงุฑุด
- **๐ ูุณุช ุงุฏุขูุฑโูุง** - ูุดุงูุฏู ููู ุงุฏุขูุฑโูุง
- **๐ค ุซุจุช ุชููุฏ ูู** - ุซุจุช ุชุงุฑุฎ ุชููุฏ ุดุฎุต

### ูพูู ุงุฏูู
ููุท ุจุฑุง User IDูุง ุซุจุช ุดุฏู ุฏุฑ `ADMIN_USER_IDS`:
- **๐ข ูพุงู ููฺฏุงู** - ุงุฑุณุงู ูพุงู ุจู ููู ฺฉุงุฑุจุฑุงู
- **๐ ุฌุณุชุฌู ฺฉุงุฑุจุฑ** - ูพุฏุง ฺฉุฑุฏู ฺฉุงุฑุจุฑ ุฎุงุต
- **๐ฅ ูุณุช ฺฉุงุฑุจุฑุงู** - ูุดุงูุฏู ููู ฺฉุงุฑุจุฑุงู
- **๐ ุขูุงุฑ ฺฉุงูู** - ุขูุงุฑ ุชูุตู ุฑุจุงุช

---

## ๐๏ธ ุชูุธูุงุช ูพุดุฑูุชู

### ุชูุธู Cron Job (ุงุฏุขูุฑ ุฎูุฏฺฉุงุฑ)
ุฏุฑ `wrangler.toml`:
```toml
[triggers]
crons = ["30 5 * * *"]  # ูุฑ ุฑูุฒ ุณุงุนุช 9 ุตุจุญ (ุชูุฑุงู)
```

### ุชูุธู Force Join
```javascript
const FORCE_JOIN_CHANNEL = '@your_channel';
const FORCE_JOIN_ENABLED = true;
```

### ุงูุฒูุฏู Message Effects
```javascript
const MESSAGE_EFFECTS = {
  CELEBRATION: "5046509860389126442",
  FIRE: "5104841245755180586",
  HEART: "5044134455711629726",
  // ...
};
```

---

## ๐ ุฏุชุงุจุณ

### ุฌุฏุงูู ุงุตู
- **users** - ุงุทูุงุนุงุช ฺฉุงุฑุจุฑุงู ู state management
- **birthdays** - ุชููุฏูุง ุซุจุช ุดุฏู
- **reminders** - ุงุฏุขูุฑโูุง ุณูุงุฑุด
- **logs** - ูุงฺฏโูุง ุณุณุชู
- **broadcasts** - ุชุงุฑุฎฺู ูพุงูโูุง ููฺฏุงู
- **settings** - ุชูุธูุงุช ุฑุจุงุช

---

## ๐ง ุชูุณุนู (Development)

### ุงุฌุฑุง ูุญู
```bash
wrangler dev
```

### ูุดุงูุฏู ูุงฺฏโูุง
```bash
wrangler tail
```

### ุงุฌุฑุง Migration
```bash
wrangler d1 execute birthday-bot-db --file=./migration.sql
```

---

## ๐ค ูุดุงุฑฺฉุช

ูุดุงุฑฺฉุชโูุง ุดูุง ุจุง ุขุบูุด ุจุงุฒ ูพุฐุฑูุชู ูโุดูุฏ! ูุทูุงู:

1. ุงู ุฑูพู ุฑุง Fork ฺฉูุฏ
2. ฺฉ Branch ุฌุฏุฏ ุจุณุงุฒุฏ (`git checkout -b feature/AmazingFeature`)
3. ุชุบุฑุงุช ุฎูุฏ ุฑุง Commit ฺฉูุฏ (`git commit -m 'Add some AmazingFeature'`)
4. ุจู Branch ุฎูุฏ Push ฺฉูุฏ (`git push origin feature/AmazingFeature`)
5. ฺฉ Pull Request ุจุงุฒ ฺฉูุฏ

---
## ๐ง ุชูุงุณ

ุงฺฏุฑ ุณูุงู ุง ูพุดููุงุฏ ุฏุงุฑุฏ:
- GitHub Issues: [Issues Page](https://github.com/mahdiyaghoobii/telegram-birthday-bot-persian/issues)
- Telegram: [@alomahdi_bot]

---
